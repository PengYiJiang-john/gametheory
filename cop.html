<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆä½œçš„è‰ºæœ¯ï¼šnäººåˆä½œåšå¼ˆè®ºç²¾è¦</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        /* Custom Styles for Formula Display */
        .math-display {
            font-family: 'Times New Roman', Times, serif;
            font-style: italic;
        }
        .math-symbol {
            font-style: normal;
        }
        
        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Chart Container Utilities */
        .chart-wrapper {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            height: 300px;
        }
        @media (min-width: 768px) {
            .chart-wrapper {
                height: 350px;
            }
        }

        /* Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #0f766e;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #cbd5e1;
            border-radius: 2px;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals & Academic Teal -->
    <!-- Background: #f8fafc (Slate 50) -->
    <!-- Primary Text: #334155 (Slate 700) -->
    <!-- Accents: #0f766e (Teal 700), #b45309 (Amber 700) for contrast/alerts -->
</head>
<body class="bg-slate-50 text-slate-700 font-sans leading-relaxed">

    <!-- Application Structure Plan:
         1. Hero Section: Title and Introduction.
         2. Paradigm Shift: Interactive Comparison Cards (Nash vs. Cooperative).
         3. Building Blocks: Definitions & Interactive 'Synergy' concept check.
         4. The Core (Interactive Simulation): The 'Glove Game' where users adjust sliders to find stable allocations.
         5. Advanced Theory: Visualized step-by-step flow for LP Duality and Balanced Collections using Chart.js to visualize weights.
         6. Conclusion: Summary cards.
         
         Rationale: The linear narrative structure ("Scrollytelling") guides the user from basic concepts to complex theory. 
         Interactive simulations break up the text and allow users to "feel" the instability of allocations, making the abstract "Core" concept concrete.
    -->

    <!-- Visualization & Content Choices:
         1. Paradigm Shift -> Goal: Compare -> Viz: Side-by-side interactive cards -> Interaction: Click to reveal details -> Justification: Clear contrast.
         2. Glove Game -> Goal: Inform/Explore -> Viz: Dynamic Bar Chart + Sliders -> Interaction: Adjust allocation, system checks Core conditions -> Justification: Direct feedback on stability.
         3. Advanced Theory -> Goal: Explain Process -> Viz: Flow Diagram (HTML/CSS) & Pie Chart for 'Time Sharing' analogy -> Interaction: Tabbed view for Primal/Dual -> Justification: Simplifies complex math.
         4. NO SVG/Mermaid confirmed. Using Chart.js for data viz and CSS for layout.
    -->

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-sm shadow-sm border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="font-bold text-xl text-teal-800 tracking-tight">n-äººåˆä½œåšå¼ˆè®º</div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-slate-600">
                    <a href="#paradigm" class="hover:text-teal-600 transition">èŒƒå¼è½¬ç§»</a>
                    <a href="#blocks" class="hover:text-teal-600 transition">åŸºæœ¬æ¦‚å¿µ</a>
                    <a href="#core" class="hover:text-teal-600 transition">æ ¸å¿ƒ (The Core)</a>
                    <a href="#advanced" class="hover:text-teal-600 transition">æ·±åº¦ç†è®º</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative bg-white overflow-hidden">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-28">
            <div class="text-center">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-slate-900 tracking-tight mb-6">
                    ä»è‡ªç§çš„ç­–ç•¥åˆ°<span class="text-teal-700">åˆä½œçš„è‰ºæœ¯</span>
                </h1>
                <p class="mt-4 max-w-2xl mx-auto text-xl text-slate-500">
                    æ¢ç´¢ n äººåˆä½œåšå¼ˆè®ºç²¾è¦ï¼šä»è”ç›Ÿå½¢æˆåˆ°åˆ©ç›Šåˆ†é…çš„æ•°å­¦åŸç†ã€‚
                </p>
                <div class="mt-10 flex justify-center gap-4">
                    <a href="#paradigm" class="px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-teal-700 hover:bg-teal-800 md:py-4 md:text-lg transition shadow-lg hover:shadow-xl">
                        å¼€å§‹æ¢ç´¢
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Section 1: The Paradigm Shift -->
    <section id="paradigm" class="py-16 bg-slate-50 border-t border-slate-200">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900">ç¬¬ä¸€éƒ¨åˆ†ï¼šèŒƒå¼è½¬ç§»</h2>
                <p class="mt-4 text-lg text-slate-600">
                    ä¸ºä»€ä¹ˆè¦ä»çº³ä»€å‡è¡¡è½¬å‘åˆä½œåšå¼ˆï¼Ÿåœ¨ä¼ ç»Ÿçš„éåˆä½œåšå¼ˆä¸­ï¼Œæˆ‘ä»¬å…³æ³¨ä¸ªä½“çš„ç­–ç•¥ã€‚ç„¶è€Œï¼Œå½“å‚ä¸è€…è¶…è¿‡ä¸‰äººï¼Œå±€é¢å˜å¾—æå…¶å¤æ‚ã€‚åˆä½œåšå¼ˆæä¾›äº†ä¸€ä¸ªæ–°çš„è§†è§’ï¼šå…³æ³¨è”ç›Ÿä¸ä»·å€¼ã€‚
                </p>
            </div>

            <!-- Comparison Interactive Cards -->
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Non-Cooperative Card -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition duration-300 border border-slate-100 group cursor-pointer" onclick="toggleCard('card-nash')">
                    <div class="p-8">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold text-slate-800 group-hover:text-teal-700 transition">éåˆä½œåšå¼ˆ</h3>
                            <span class="text-2xl">â™Ÿï¸</span>
                        </div>
                        <p class="text-slate-600 mb-4">å…³æ³¨ä¸ªä½“çš„ <span class="font-semibold text-slate-800">Action (åŠ¨ä½œ/ç­–ç•¥)</span>ã€‚</p>
                        <div id="card-nash" class="hidden text-sm text-slate-500 bg-slate-50 p-4 rounded-lg mt-4 animate-fade-in">
                            <ul class="list-disc pl-5 space-y-2">
                                <li><strong>å›°å¢ƒï¼š</strong> 3äººä»¥ä¸Šæ—¶ï¼Œç­–ç•¥ç»„åˆæå…¶å¤æ‚ï¼Œéš¾ä»¥é¢„æµ‹ã€‚</li>
                                <li><strong>ç¼ºå¤±ï¼š</strong> æ— æ³•æ¨¡æ‹Ÿâ€œå…·æœ‰çº¦æŸåŠ›çš„åè®®â€ (Binding Agreements)ã€‚</li>
                                <li><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong> â€œæˆ‘å‡ºä»€ä¹ˆæ‹›èƒ½æœ€å¤§åŒ–æˆ‘çš„åˆ©ç›Šï¼Ÿâ€</li>
                            </ul>
                        </div>
                        <p class="text-center text-xs text-teal-600 font-medium mt-2">ç‚¹å‡»å±•å¼€è¯¦æƒ…</p>
                    </div>
                </div>

                <!-- Cooperative Card -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition duration-300 border border-slate-100 group cursor-pointer border-l-4 border-l-teal-600" onclick="toggleCard('card-coop')">
                    <div class="p-8">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold text-slate-800 group-hover:text-teal-700 transition">åˆä½œåšå¼ˆ</h3>
                            <span class="text-2xl">ğŸ¤</span>
                        </div>
                        <p class="text-slate-600 mb-4">å…³æ³¨ <span class="font-semibold text-slate-800">Coalition (è”ç›Ÿ)</span> å’Œ <span class="font-semibold text-slate-800">Value (ä»·å€¼)</span>ã€‚</p>
                        <div id="card-coop" class="hidden text-sm text-slate-500 bg-slate-50 p-4 rounded-lg mt-4 animate-fade-in">
                            <ul class="list-disc pl-5 space-y-2">
                                <li><strong>æ–°è§†è§’ï¼š</strong> å¿½ç•¥å…·ä½“æˆ˜æœ¯ï¼Œç›´æ¥å®šä¹‰è”ç›Ÿ <span class="math-display">S</span> èƒ½ä¿è¯çš„æœ€å¤§æ”¶ç›Š <span class="math-display">v(S)</span>ã€‚</li>
                                <li><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong> â€œæˆ‘è·Ÿè°ä¸€ä¼™ï¼Ÿæˆ‘ä»¬èƒ½æŒ£å¤šå°‘ï¼Ÿæ€ä¹ˆåˆ†ï¼Ÿâ€</li>
                                <li><strong>å…³é”®å‡è®¾ï¼š</strong> å¯è½¬ç§»æ•ˆç”¨ (TU)ã€‚è›‹ç³•å¯ä»¥åšå¤§ï¼Œå†…éƒ¨åˆ†é…è‡ªç”±ã€‚</li>
                            </ul>
                        </div>
                        <p class="text-center text-xs text-teal-600 font-medium mt-2">ç‚¹å‡»å±•å¼€è¯¦æƒ…</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Building Blocks -->
    <section id="blocks" class="py-16 bg-white">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12">
                <h2 class="text-3xl font-bold text-slate-900">ç¬¬äºŒéƒ¨åˆ†ï¼šæ ¸å¿ƒæ¦‚å¿µæ„å»º</h2>
                <p class="mt-4 text-lg text-slate-600">
                    åœ¨æ·±å…¥ç ”ç©¶å¦‚ä½•åˆ†é…åˆ©ç›Šä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹æ•°å­¦æ¨¡å‹æ¥æè¿°è”ç›Ÿçš„ä»·å€¼ã€‚è¿™é‡Œå¼•å…¥äº†ç‰¹å¾å‡½æ•°å’Œåˆ†é…å‘é‡çš„æ¦‚å¿µã€‚
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-12 items-start">
                <!-- Concepts List -->
                <div class="space-y-6">
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                        <h4 class="font-bold text-lg text-teal-800 mb-2">ç‰¹å¾å‡½æ•° (Characteristic Function)</h4>
                        <p class="text-slate-700"><span class="math-display">v: 2<sup>N</sup> â†’ â„</span></p>
                        <p class="text-sm text-slate-500 mt-2">æè¿°ä»»ä½•ä¸€ä¸ªè”ç›Ÿå­é›†èƒ½è·å¾—çš„æœ€å¤§æ€»æ”¶ç›Šã€‚</p>
                    </div>
                    
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                        <h4 class="font-bold text-lg text-teal-800 mb-2">è¶…å¯åŠ æ€§ (Superadditivity)</h4>
                        <p class="text-slate-700"><span class="math-display">v(A âˆª B) â‰¥ v(A) + v(B)</span></p>
                        <p class="text-sm text-slate-500 mt-2">ç›´è§‰ï¼š1+1 > 2ã€‚å¦‚æœåˆå¹¶æ²¡å¥½å¤„ï¼Œå¤§å®¶å°±ä¸ä¼šåˆä½œã€‚</p>
                    </div>

                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                        <h4 class="font-bold text-lg text-teal-800 mb-2">åˆ†é… (Imputation)</h4>
                        <p class="text-slate-700">å‘é‡ <span class="math-display">x = (x<sub>1</sub>, ..., x<sub>n</sub>)</span></p>
                        <ul class="text-sm text-slate-500 mt-2 list-disc pl-5">
                            <li><strong>ä¸ªä½“ç†æ€§ï¼š</strong> <span class="math-display">x<sub>i</sub> â‰¥ v({i})</span> (ä¸èƒ½æ¯”å•å¹²å·®)</li>
                            <li><strong>é›†ä½“æ•ˆç‡ï¼š</strong> <span class="math-display">âˆ‘ x<sub>i</sub> = v(N)</span> (åˆ†å®Œæ‰€æœ‰é’±)</li>
                        </ul>
                    </div>
                </div>

                <!-- Interactive Chart: Imputation Visualizer -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100">
                    <h3 class="font-bold text-slate-800 mb-4 text-center">åˆ†é…å¯è§†åŒ–æ¼”ç¤º (3äººåšå¼ˆ)</h3>
                    <p class="text-sm text-slate-500 mb-4 text-center">æ€»ä»·å€¼ <span class="math-display">v(N) = 100</span>ã€‚è°ƒæ•´æ»‘å—è¿›è¡Œåˆ†é…ã€‚</p>
                    
                    <div class="chart-wrapper">
                        <canvas id="imputationChart"></canvas>
                    </div>

                    <div class="space-y-4 mt-6">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span>Player 1 (<span id="p1-val">33</span>)</span>
                                <span class="text-slate-400">ä¸ªä½“åº•çº¿: 10</span>
                            </div>
                            <input type="range" id="p1-slider" min="0" max="100" value="33" class="w-full" oninput="updateImputation()">
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span>Player 2 (<span id="p2-val">33</span>)</span>
                                <span class="text-slate-400">ä¸ªä½“åº•çº¿: 10</span>
                            </div>
                            <input type="range" id="p2-slider" min="0" max="100" value="33" class="w-full" oninput="updateImputation()">
                        </div>
                        <!-- Player 3 is calculated -->
                        <div class="flex justify-between items-center p-3 bg-slate-100 rounded">
                            <span class="text-sm font-medium">Player 3 (å‰©ä½™)</span>
                            <span id="p3-val" class="font-bold text-teal-700">34</span>
                        </div>
                    </div>
                    
                    <div id="imputation-alert" class="mt-4 p-3 rounded text-sm hidden"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: The Core (Interactive Simulation) -->
    <section id="core" class="py-16 bg-slate-50 border-t border-slate-200">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-slate-900">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ ¸å¿ƒ (The Core) â€” ç¨³å®šæ€§çš„åœ£æ¯</h2>
                <p class="mt-4 text-lg text-slate-600 max-w-3xl mx-auto">
                    ä»€ä¹ˆæ ·çš„åˆ†é…æ–¹æ¡ˆæ˜¯è°éƒ½æ— æ³•æ¨ç¿»çš„ï¼Ÿæ ¸å¿ƒæ˜¯æ‰€æœ‰ä¸è¢«ä»»ä½•è”ç›Ÿâ€œæ”¯é…â€çš„åˆ†é…æ–¹æ¡ˆé›†åˆã€‚è®©æˆ‘ä»¬é€šè¿‡ç»å…¸çš„â€œæ‰‹å¥—åšå¼ˆâ€æ¥ä½“éªŒè¿™ä¸€ç‚¹ã€‚
                </p>
            </div>

            <div class="grid md:grid-cols-12 gap-8">
                <!-- Theory Column -->
                <div class="md:col-span-5 space-y-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <h3 class="font-bold text-lg text-slate-800 mb-2">æ”¯é… (Domination)</h3>
                        <p class="text-sm text-slate-600 mb-4">
                            å¦‚æœä¸€ä¸ªè”ç›Ÿ <span class="math-display">S</span> å‘ç°ä»–ä»¬å•å¹²çš„æ€»æ”¶ç›Š <span class="math-display">v(S)</span> æ¯”å½“å‰åˆ†é…ç»™ä»–ä»¬çš„æ€»å’Œ <span class="math-display">âˆ‘<sub>iâˆˆS</sub> x<sub>i</sub></span> è¿˜è¦é«˜ï¼Œä»–ä»¬å°±ä¼šè„±ç¦»å¤§é›†ä½“ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬è¯´è¯¥åˆ†é…è¢«è”ç›Ÿ <span class="math-display">S</span> æ”¯é…ï¼ˆæ¨ç¿»ï¼‰äº†ã€‚
                        </p>
                        <div class="bg-amber-50 border-l-4 border-amber-500 p-4">
                            <p class="text-xs text-amber-800 font-semibold">é€ åå®£è¨€ï¼š</p>
                            <p class="text-sm text-amber-900 italic">"ä¸å…¶æ‹¿ç°åœ¨çš„ä»½é¢ï¼Œä¸å¦‚æˆ‘ä»¬è‡ªå·±å•å¹²ï¼"</p>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <h3 class="font-bold text-lg text-slate-800 mb-2">Core çš„å®šä¹‰</h3>
                        <p class="text-sm text-slate-600">
                            Core æ˜¯æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„åˆ†é…é›†åˆï¼š
                        </p>
                        <div class="mt-3 text-sm bg-slate-50 p-3 rounded font-mono text-slate-700">
                            1. âˆ‘ x<sub>i</sub> = v(N) <br>
                            2. âˆ‘<sub>iâˆˆS</sub> x<sub>i</sub> â‰¥ v(S), âˆ€ S
                        </div>
                    </div>
                </div>

                <!-- Simulation Column -->
                <div class="md:col-span-7">
                    <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden">
                        <div class="bg-teal-700 p-4 text-white flex justify-between items-center">
                            <h3 class="font-bold">æ¨¡æ‹Ÿå®éªŒï¼šæ‰‹å¥—åšå¼ˆ (The Glove Game)</h3>
                            <span class="text-xs bg-teal-800 px-2 py-1 rounded">æ€»ä»·å€¼ = 100</span>
                        </div>
                        <div class="p-6">
                            <p class="text-sm text-slate-600 mb-6">
                                <strong>è®¾å®šï¼š</strong> Player 1 æœ‰å·¦æ‰‹å¥— (L)ï¼ŒPlayer 2 å’Œ 3 æœ‰å³æ‰‹å¥— (R1, R2)ã€‚<br>
                                <strong>è§„åˆ™ï¼š</strong> åªæœ‰æˆå¯¹æ‰å€¼é’±ã€‚å•åª=0ã€‚ä»»ä¸€ä¸€å¯¹(L+R)=100ã€‚ä¸‰äºº=100ã€‚<br>
                                <strong>ä»»åŠ¡ï¼š</strong> è°ƒæ•´ Player 1 (L) çš„ä»½é¢ï¼Œè§‚å¯Ÿè”ç›Ÿ {1,2} å’Œ {1,3} æ˜¯å¦ä¼šé€ åã€‚
                            </p>

                            <!-- Glove Game Controls -->
                            <div class="mb-8">
                                <label class="block text-sm font-medium text-slate-700 mb-2">Player 1 (Left Glove) ä»½é¢: <span id="glove-p1-display" class="font-bold text-teal-700">50</span></label>
                                <input type="range" id="glove-slider" min="0" max="100" value="50" class="w-full" oninput="updateGloveGame()">
                                <div class="flex justify-between text-xs text-slate-400 mt-1">
                                    <span>0 (P1å—è™)</span>
                                    <span>100 (P1ç‹¬å)</span>
                                </div>
                            </div>

                            <!-- Dynamic Results Visualization -->
                            <div class="grid grid-cols-2 gap-4 mb-6">
                                <div class="p-3 bg-slate-50 rounded border border-slate-200 text-center">
                                    <div class="text-xs text-slate-500 mb-1">Player 2 (R1)</div>
                                    <div id="glove-p2-display" class="font-bold text-lg text-slate-700">25</div>
                                </div>
                                <div class="p-3 bg-slate-50 rounded border border-slate-200 text-center">
                                    <div class="text-xs text-slate-500 mb-1">Player 3 (R2)</div>
                                    <div id="glove-p3-display" class="font-bold text-lg text-slate-700">25</div>
                                </div>
                            </div>

                            <!-- Stability Check Panel -->
                            <div class="space-y-3">
                                <div id="coalition-12" class="p-3 rounded text-sm flex justify-between items-center transition-colors">
                                    <span>è”ç›Ÿ {1, 2} æ”¶ç›Š (P1+P2): <span id="sum-12" class="font-bold">75</span></span>
                                    <span id="status-12" class="text-xs font-bold px-2 py-1 rounded">æ£€æŸ¥ä¸­...</span>
                                </div>
                                <div id="coalition-13" class="p-3 rounded text-sm flex justify-between items-center transition-colors">
                                    <span>è”ç›Ÿ {1, 3} æ”¶ç›Š (P1+P3): <span id="sum-13" class="font-bold">75</span></span>
                                    <span id="status-13" class="text-xs font-bold px-2 py-1 rounded">æ£€æŸ¥ä¸­...</span>
                                </div>
                            </div>

                            <div id="core-result" class="mt-6 p-4 rounded-lg text-center font-bold text-white transition-all duration-300 bg-slate-400">
                                è°ƒæ•´æ»‘å—ä»¥æŸ¥çœ‹ç»“æœ
                            </div>
                            
                            <p class="text-xs text-slate-500 mt-4 text-center">
                                *æ³¨ï¼šè¿™é‡Œå‡è®¾å‰©ä½™é‡‘é¢ç”± P2 å’Œ P3 å¹³åˆ†ï¼ˆå› ä¸ºä»–ä»¬æ˜¯å¯¹ç§°çš„ï¼‰ã€‚
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Advanced Theory (LP & Balanced Collections) -->
    <section id="advanced" class="py-16 bg-white">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12">
                <h2 class="text-3xl font-bold text-slate-900">ç¬¬å››éƒ¨åˆ†ï¼šæ·±åº¦ç†è®º â€”â€” ä» LP å¯¹å¶åˆ°å¹³è¡¡åˆé›†</h2>
                <p class="mt-4 text-lg text-slate-600">
                    ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ Core æ˜¯ç©ºçš„ï¼Ÿæˆ‘ä»¬èƒ½ä¸èƒ½ä¸è§£å¤æ‚çš„æ–¹ç¨‹ç»„ç›´æ¥åˆ¤æ–­ï¼Ÿè¿™ä¸€éƒ¨åˆ†åˆ©ç”¨çº¿æ€§è§„åˆ’çš„å¯¹å¶æ€§ï¼Œæ¨å¯¼å‡ºäº†è‘—åçš„ Bondareva-Shapley å®šç†ã€‚
                </p>
            </div>

            <!-- Tabbed Interface for Complex Concepts -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden">
                <div class="flex border-b border-slate-200 bg-slate-50">
                    <button class="flex-1 py-4 text-sm font-medium text-teal-700 border-b-2 border-teal-700 bg-white" id="tab-lp" onclick="switchTab('lp')">1. çº¿æ€§è§„åˆ’è§†è§’</button>
                    <button class="flex-1 py-4 text-sm font-medium text-slate-500 hover:text-slate-700" id="tab-dual" onclick="switchTab('dual')">2. å¯¹å¶ä¸å¹³è¡¡åˆé›†</button>
                    <button class="flex-1 py-4 text-sm font-medium text-slate-500 hover:text-slate-700" id="tab-theorem" onclick="switchTab('theorem')">3. Bondareva-Shapley</button>
                </div>

                <div class="p-8">
                    <!-- Tab 1: Primal LP -->
                    <div id="content-lp" class="space-y-6 animate-fade-in">
                        <div class="flex flex-col md:flex-row gap-8 items-center">
                            <div class="flex-1">
                                <h3 class="text-xl font-bold text-slate-800 mb-4">å¤§è”ç›ŸCEOçš„éš¾é¢˜</h3>
                                <p class="text-slate-600 mb-4">æƒ³è±¡ä½ æ˜¯å¤§è”ç›Ÿçš„CEOï¼Œä½ è¦ç»™è‚¡ä¸œåˆ†çº¢ (<span class="math-display">x<sub>i</sub></span>)ã€‚</p>
                                <ul class="list-disc pl-5 space-y-2 text-slate-600">
                                    <li><strong>ç›®æ ‡ï¼š</strong> æˆæœ¬æœ€å°åŒ– (Minimize <span class="math-display">Z = âˆ‘ x<sub>i</sub></span>)</li>
                                    <li><strong>çº¦æŸï¼š</strong> å¿…é¡»æ»¡è¶³æ‰€æœ‰å°å›¢ä½“ <span class="math-display">S</span> çš„èƒƒå£ (<span class="math-display">âˆ‘<sub>iâˆˆS</sub> x<sub>i</sub> â‰¥ v(S)</span>)</li>
                                </ul>
                                <div class="mt-4 p-4 bg-red-50 text-red-800 rounded-lg border border-red-100">
                                    <strong>æ ¸å¿ƒåˆ¤æ®ï¼š</strong> å¦‚æœç®—å‡ºæ¥çš„æœ€å°æˆæœ¬ <span class="math-display">Z<sub>min</sub> > v(N)</span>ï¼ˆæˆ‘ä»¬è¦å‘çš„é’±è¶…è¿‡äº†å®é™…èµšçš„é’±ï¼‰ï¼Œé‚£ Core å°±æ˜¯ç©ºçš„ã€‚
                                </div>
                            </div>
                            <div class="flex-1 flex justify-center">
                                <div class="text-6xl">ğŸ“‰</div> <!-- Minimalist Icon placeholder -->
                            </div>
                        </div>
                    </div>

                    <!-- Tab 2: Dual LP & Balanced Collections -->
                    <div id="content-dual" class="hidden space-y-6 animate-fade-in">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h3 class="text-xl font-bold text-slate-800 mb-4">è½¬å‘å¯¹å¶é—®é¢˜ (Dual LP)</h3>
                                <p class="text-slate-600 mb-4">å¼•å…¥å¯¹å¶å˜é‡ <span class="math-display">y<sub>S</sub></span>ï¼ˆç»™æ¯ä¸ªè”ç›Ÿ <span class="math-display">S</span> ä¸€ä¸ªæƒé‡ï¼‰ã€‚</p>
                                <div class="bg-slate-50 p-4 rounded border border-slate-200 font-mono text-sm text-slate-700 mb-4">
                                    Maximize W = âˆ‘ y<sub>S</sub> v(S)<br>
                                    Subject to: âˆ‘<sub>Sâˆ‹i</sub> y<sub>S</sub> = 1 (å¯¹æ¯ä¸ªç©å®¶ i)
                                </div>
                                <p class="text-slate-600 text-sm">è¿™ä¸ªçº¦æŸæ¡ä»¶æ„å‘³ç€ï¼šæ¯ä¸ªç©å®¶è¢«â€œåˆ†é…â€åˆ°å„ä¸ªè”ç›Ÿçš„æƒé‡ä¹‹å’Œæ°å¥½ä¸º 1ã€‚</p>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-slate-800 mb-4">â€œåˆ†æ—¶å·¥ä½œâ€çš„æ¯”å–»</h3>
                                <div class="chart-wrapper" style="height: 200px;">
                                    <canvas id="balancedCollectionChart"></canvas>
                                </div>
                                <p class="text-center text-xs text-slate-500 mt-2">ç©å®¶çš„æ—¶é—´åˆ†é…ç¤ºæ„å›¾</p>
                                <p class="text-slate-600 text-sm mt-4">
                                    å¦‚æœå­˜åœ¨ä¸€ç»„æƒé‡ <span class="math-display">y<sub>S</sub></span> ä½¿å¾—æ¯ä¸ªç©å®¶éƒ½åˆšå¥½å·¥ä½œ 100% çš„æ—¶é—´ï¼Œè¿™ç»„è”ç›Ÿé›†åˆå°±å«<strong>å¹³è¡¡åˆé›†</strong>ã€‚
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Tab 3: Theorem -->
                    <div id="content-theorem" class="hidden space-y-6 animate-fade-in">
                        <div class="text-center max-w-2xl mx-auto">
                            <h3 class="text-2xl font-bold text-teal-800 mb-6">Bondareva-Shapley å®šç†</h3>
                            <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8">
                                <p class="text-xl font-serif text-slate-800 mb-4">
                                    Core éç©º âŸº <span class="math-display">âˆ‘<sub>SâˆˆC</sub> y<sub>S</sub> v(S) â‰¤ v(N)</span>
                                </p>
                                <p class="text-slate-500 text-sm">å¯¹äºä»»æ„å¹³è¡¡åˆé›† C</p>
                            </div>
                            <p class="text-lg text-slate-700 mb-6">
                                <strong>äººè¯è§£é‡Šï¼š</strong> å¦‚æœä½ æŠŠå¤§å®¶çš„æ—¶é—´æ‹†ç¢äº†åˆ†ç»™å‡ ä¸ªå°å›¢é˜Ÿï¼Œè¿™äº›å°å›¢é˜ŸåŠ èµ·æ¥åˆ›é€ çš„ä»·å€¼ï¼Œä¸èƒ½è¶…è¿‡å¤§å®¶åœ¨ä¸€èµ·å¹²åˆ›é€ çš„ä»·å€¼ã€‚å¦åˆ™å¤§å®¶å°±ä¼šå€¾å‘äºæ‹†ä¼™ã€‚
                            </p>
                            <div class="inline-block bg-teal-100 text-teal-800 px-4 py-2 rounded-full text-sm font-semibold">
                                å¼ºå¯¹å¶æ€§ (Strong Duality) çš„å®Œç¾ä½“ç°
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 5: Conclusion -->
    <section class="py-16 bg-slate-900 text-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold mb-8">æ€»ç»“ä¸å‡å</h2>
            <div class="grid md:grid-cols-2 gap-8 text-left">
                <div class="bg-slate-800 p-6 rounded-lg border border-slate-700">
                    <h3 class="text-xl font-bold text-teal-400 mb-4">é€»è¾‘é—­ç¯</h3>
                    <p class="text-slate-300">
                        æˆ‘ä»¬ä»ä¸ªä½“çš„è´ªå©ª (ç­–ç•¥) èµ°åˆ°ç¾¤ä½“çš„åšå¼ˆ (Core)ï¼Œæœ€åç”¨çº¿æ€§è§„åˆ’ (Bondareva-Shapley) æ‰¾åˆ°äº†åˆä½œä¸ç ´è£‚çš„æ•°å­¦åº•çº¿ã€‚
                    </p>
                </div>
                <div class="bg-slate-800 p-6 rounded-lg border border-slate-700">
                    <h3 class="text-xl font-bold text-teal-400 mb-4">ç°å®æ„ä¹‰</h3>
                    <ul class="text-slate-300 space-y-2 list-disc pl-5">
                        <li><strong>æ”¿æ²»ï¼š</strong> è§£é‡Šè®®ä¼šè”ç›Ÿçš„ä¸ç¨³å®šæ€§ï¼ˆCore ä¸ºç©ºå¯¼è‡´å¾ªç¯èƒŒå›ï¼‰ã€‚</li>
                        <li><strong>å•†ä¸šï¼š</strong> ä¾›åº”é“¾åˆ©æ¶¦åˆ†é…çš„å…¬å¹³æ€§è¯æ˜ã€‚</li>
                    </ul>
                </div>
            </div>
            <p class="mt-12 text-slate-500 text-sm">
                Based on "Essentials of n-Person Cooperative Game Theory"
            </p>
        </div>
    </section>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Paradigm Shift Interactions ---
        function toggleCard(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        }

        // --- 2. Imputation Visualizer (Chart.js) ---
        // Data storage
        const imputationData = {
            total: 100,
            p1: 33,
            p2: 33,
            p3: 34
        };

        const ctxImputation = document.getElementById('imputationChart').getContext('2d');
        const imputationChart = new Chart(ctxImputation, {
            type: 'bar',
            data: {
                labels: ['Player 1', 'Player 2', 'Player 3'],
                datasets: [{
                    label: 'åˆ†é…é‡‘é¢',
                    data: [33, 33, 34],
                    backgroundColor: ['#0f766e', '#0f766e', '#0d9488'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        function updateImputation() {
            const p1Val = parseInt(document.getElementById('p1-slider').value);
            const p2Val = parseInt(document.getElementById('p2-slider').value);
            const alertBox = document.getElementById('imputation-alert');

            // Logic: P3 gets remainder. If remainder < 0, constrain sliders.
            // Simplified logic: Allow slider movement but show alert if invalid.
            
            let p3Val = 100 - p1Val - p2Val;
            
            // Visual Updates
            document.getElementById('p1-val').innerText = p1Val;
            document.getElementById('p2-val').innerText = p2Val;
            
            if (p3Val < 0) {
                p3Val = 0; // Clamp visual
                alertBox.classList.remove('hidden');
                alertBox.classList.add('bg-red-100', 'text-red-800');
                alertBox.innerText = "è­¦å‘Šï¼šæ€»åˆ†é…è¶…è¿‡ 100ï¼è¿™æ˜¯æ— æ•ˆçš„åˆ†é…ã€‚";
            } else if (p1Val < 10 || p2Val < 10 || p3Val < 10) { 
                // Assuming individual rationality v({i}) = 10 for this demo context
                alertBox.classList.remove('hidden');
                alertBox.classList.add('bg-amber-100', 'text-amber-800');
                alertBox.classList.remove('bg-red-100', 'text-red-800');
                document.getElementById('p3-val').innerText = p3Val;
                alertBox.innerText = "æ³¨æ„ï¼šæŸç©å®¶ä½äºä¸ªä½“åº•çº¿ (10)ï¼Œå¯èƒ½ä¸æ»¡è¶³ä¸ªä½“ç†æ€§ã€‚";
            } else {
                document.getElementById('p3-val').innerText = p3Val;
                alertBox.classList.add('hidden');
            }

            imputationChart.data.datasets[0].data = [p1Val, p2Val, p3Val];
            imputationChart.update();
        }

        // --- 3. Glove Game Simulation ---
        function updateGloveGame() {
            const p1 = parseInt(document.getElementById('glove-slider').value);
            // Symmetry assumption: P2 and P3 split the rest equally
            const remainder = 100 - p1;
            const p2 = remainder / 2;
            const p3 = remainder / 2;

            // Update Displays
            document.getElementById('glove-p1-display').innerText = p1;
            document.getElementById('glove-p2-display').innerText = p2.toFixed(1);
            document.getElementById('glove-p3-display').innerText = p3.toFixed(1);

            // Check Stability
            // v(12) = 100. They have p1 + p2.
            // v(13) = 100. They have p1 + p3.
            // v(23) = 0. They have p2 + p3. (Always > 0, so stable against {2,3})
            
            const sum12 = p1 + p2;
            const sum13 = p1 + p3;
            
            document.getElementById('sum-12').innerText = sum12.toFixed(1);
            document.getElementById('sum-13').innerText = sum13.toFixed(1);

            const row12 = document.getElementById('coalition-12');
            const status12 = document.getElementById('status-12');
            const row13 = document.getElementById('coalition-13');
            const status13 = document.getElementById('status-13');
            const resultBox = document.getElementById('core-result');

            // Check Coalition {1, 2}
            if (sum12 < 100) {
                row12.classList.add('bg-red-50');
                status12.innerText = "é€ å!";
                status12.className = "text-xs font-bold px-2 py-1 rounded bg-red-200 text-red-800";
            } else {
                row12.classList.remove('bg-red-50');
                status12.innerText = "æ»¡æ„";
                status12.className = "text-xs font-bold px-2 py-1 rounded bg-green-200 text-green-800";
            }

            // Check Coalition {1, 3} (Identical to 12 in this symmetric case)
            if (sum13 < 100) {
                row13.classList.add('bg-red-50');
                status13.innerText = "é€ å!";
                status13.className = "text-xs font-bold px-2 py-1 rounded bg-red-200 text-red-800";
            } else {
                row13.classList.remove('bg-red-50');
                status13.innerText = "æ»¡æ„";
                status13.className = "text-xs font-bold px-2 py-1 rounded bg-green-200 text-green-800";
            }

            // Final Core Determination
            if (p1 === 100) {
                resultBox.className = "mt-6 p-4 rounded-lg text-center font-bold text-white transition-all duration-300 bg-green-600";
                resultBox.innerText = "ğŸ‰ å¤„äº Core ä¸­ï¼ (P1 å„æ–­)";
            } else {
                resultBox.className = "mt-6 p-4 rounded-lg text-center font-bold text-white transition-all duration-300 bg-red-500";
                resultBox.innerHTML = "âš ï¸ ä¸ç¨³å®šï¼<br><span class='text-sm font-normal'>è”ç›Ÿ {1,2} æˆ– {1,3} èƒ½è·å¾—æ›´å¤š (100)ï¼Œæ‰€ä»¥ä»–ä»¬ä¼šæŠ›å¼ƒå½“å‰åˆ†é…ã€‚</span>";
            }
        }

        // --- 4. Advanced Theory Tabs ---
        function switchTab(tabName) {
            // Buttons
            document.getElementById('tab-lp').classList.replace('text-teal-700', 'text-slate-500');
            document.getElementById('tab-lp').classList.remove('border-b-2', 'border-teal-700', 'bg-white');
            
            document.getElementById('tab-dual').classList.replace('text-teal-700', 'text-slate-500');
            document.getElementById('tab-dual').classList.remove('border-b-2', 'border-teal-700', 'bg-white');

            document.getElementById('tab-theorem').classList.replace('text-teal-700', 'text-slate-500');
            document.getElementById('tab-theorem').classList.remove('border-b-2', 'border-teal-700', 'bg-white');

            // Active Button
            const activeBtn = document.getElementById('tab-' + tabName);
            activeBtn.classList.replace('text-slate-500', 'text-teal-700');
            activeBtn.classList.add('border-b-2', 'border-teal-700', 'bg-white');

            // Content
            document.getElementById('content-lp').classList.add('hidden');
            document.getElementById('content-dual').classList.add('hidden');
            document.getElementById('content-theorem').classList.add('hidden');

            document.getElementById('content-' + tabName).classList.remove('hidden');
        }

        // --- 5. Balanced Collection Chart ---
        const ctxBalanced = document.getElementById('balancedCollectionChart').getContext('2d');
        new Chart(ctxBalanced, {
            type: 'doughnut',
            data: {
                labels: ['è”ç›Ÿ S1 (y=0.5)', 'è”ç›Ÿ S2 (y=0.5)'],
                datasets: [{
                    data: [50, 50],
                    backgroundColor: ['#0f766e', '#14b8a6'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'ç©å®¶ i çš„æ—¶é—´æŠ•å…¥ (âˆ‘y = 1)',
                        font: { size: 14 }
                    }
                }
            }
        });

        // Initialize
        updateImputation();
        updateGloveGame();

    </script>
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. Chart.js used via CDN in Canvas wrappers. -->
</body>
</html>

